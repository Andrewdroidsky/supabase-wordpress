# Session 1 - Docker Setup & WordPress Installation

**–î–∞—Ç–∞:** 2025-10-31
**–í—Ä–µ–º—è:** ~1.5 —á–∞—Å–∞
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –£—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∞
**–¶–µ–ª—å:** –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å WordPress —Å Supabase Bridge –ø–ª–∞–≥–∏–Ω–æ–º –≤ Docker –æ–∫—Ä—É–∂–µ–Ω–∏–∏

---

## üìã –ó–∞–¥–∞—á–∏ —Å–µ—Å—Å–∏–∏

- [x] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Docker Desktop
- [x] –°–æ–∑–¥–∞—Ç—å docker-compose.yml
- [x] –ó–∞–ø—É—Å—Ç–∏—Ç—å WordPress + MySQL –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
- [x] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å PHP –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (Composer)
- [x] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å WordPress (initial setup)
- [x] –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å Supabase Bridge –ø–ª–∞–≥–∏–Ω
- [x] –ù–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Supabase –ø—Ä–æ–µ–∫—Ç–∞

---

## üöÄ –•—Ä–æ–Ω–æ–ª–æ–≥–∏—è

### 00:00 - –ù–∞—á–∞–ª–æ: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker Desktop

**–ü—Ä–æ–±–ª–µ–º–∞:** Docker Desktop –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –°–∫–∞—á–∞–ª Docker Desktop —Å https://www.docker.com/products/docker-desktop
2. –£—Å—Ç–∞–Ω–æ–≤–∏–ª –∏–Ω—Å—Ç–∞–ª–ª—è—Ç–æ—Ä (—Ç—Ä–µ–±–æ–≤–∞–ª–∞—Å—å –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ Windows)
3. –ó–∞–ø—É—Å—Ç–∏–ª Docker Desktop
4. –ü—Ä–æ–≤–µ—Ä–∏–ª —É—Å—Ç–∞–Ω–æ–≤–∫—É:
   ```bash
   docker --version
   # Output: Docker version 28.5.1, build e180ab8
   ```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ Docker —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –∑–∞–ø—É—â–µ–Ω

**–í—Ä–µ–º—è:** ~15 –º–∏–Ω—É—Ç

---

### 00:15 - –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

**–î–µ–π—Å—Ç–≤–∏—è:**
```bash
cd "C:\Users\koper\Downloads\GitHub Projects"
git clone https://github.com/alexeykrol/supabase-wordpress
cd supabase-wordpress
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
ls
# Output: supabase-bridge.php, auth-form.js, composer.json, README.md, ...
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω

**–í—Ä–µ–º—è:** ~2 –º–∏–Ω—É—Ç—ã

---

### 00:17 - –°–æ–∑–¥–∞–Ω–∏–µ docker-compose.yml

**–ü—Ä–æ–±–ª–µ–º–∞:** –í —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –Ω–µ—Ç docker-compose.yml (–ø–ª–∞–≥–∏–Ω —Ä–∞—Å—Å—á–∏—Ç–∞–Ω –Ω–∞ —É—Å—Ç–∞–Ω–æ–≤–∫—É –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π WordPress)

**–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–ª docker-compose.yml –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:

```yaml
version: '3.8'

services:
  # MySQL Database
  db:
    image: mysql:8.0
    container_name: supabase_wp_db
    restart: always
    environment:
      MYSQL_ROOT_PASSWORD: wordpress_root_password
      MYSQL_DATABASE: wordpress
      MYSQL_USER: wordpress
      MYSQL_PASSWORD: wordpress_password
    volumes:
      - db_data:/var/lib/mysql
    networks:
      - wordpress_network

  # WordPress with PHP 8.0+
  wordpress:
    image: wordpress:latest
    container_name: supabase_wp
    restart: always
    depends_on:
      - db
    ports:
      - "8000:80"
    environment:
      WORDPRESS_DB_HOST: db:3306
      WORDPRESS_DB_USER: wordpress
      WORDPRESS_DB_PASSWORD: wordpress_password
      WORDPRESS_DB_NAME: wordpress
      WORDPRESS_DEBUG: 1
    volumes:
      # Mount plugin files to WordPress plugins directory
      - ./:/var/www/html/wp-content/plugins/supabase-bridge
      # Persist WordPress data
      - wordpress_data:/var/www/html
    networks:
      - wordpress_network

volumes:
  db_data:
  wordpress_data:

networks:
  wordpress_network:
    driver: bridge
```

**–ö–ª—é—á–µ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è:**
- –ú–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∫–∞–∫ –ø–ª–∞–≥–∏–Ω (`./:/var/www/html/wp-content/plugins/supabase-bridge`)
- –ü–æ—Ä—Ç 8000 –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ (–∏–∑–±–µ–∂–∞—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ —Å –¥—Ä—É–≥–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏ –Ω–∞ 80)
- WordPress debug mode –≤–∫–ª—é—á–µ–Ω (`WORDPRESS_DEBUG: 1`)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ docker-compose.yml —Å–æ–∑–¥–∞–Ω

**–í—Ä–µ–º—è:** ~10 –º–∏–Ω—É—Ç

---

### 00:27 - –ó–∞–ø—É—Å–∫ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

**–î–µ–π—Å—Ç–≤–∏—è:**
```bash
docker compose up -d
```

**–ß—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ:**
1. Docker —Å–∫–∞—á–∏–≤–∞–µ—Ç –æ–±—Ä–∞–∑—ã (mysql:8.0, wordpress:latest) - **~600 –ú–ë**
2. –°–æ–∑–¥–∞–µ—Ç volumes (db_data, wordpress_data)
3. –°–æ–∑–¥–∞–µ—Ç network (wordpress_network)
4. –ó–∞–ø—É—Å–∫–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã

**–õ–æ–≥–∏:**
```bash
docker compose ps
# Output:
# NAME              STATUS
# supabase_wp_db    Up 2 minutes
# supabase_wp       Up 2 minutes
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–ø—É—â–µ–Ω—ã

**–í—Ä–µ–º—è:** ~10 –º–∏–Ω—É—Ç (—Å–∫–∞—á–∏–≤–∞–Ω–∏–µ –æ–±—Ä–∞–∑–æ–≤)

---

### 00:37 - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PHP –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–ª–∞–≥–∏–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `firebase/php-jwt` –¥–ª—è JWT verification, –Ω–æ `vendor/` –Ω–µ –≤–∫–ª—é—á–µ–Ω –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

**–†–µ—à–µ–Ω–∏–µ:**
```bash
docker compose exec wordpress bash -c "cd /var/www/html/wp-content/plugins/supabase-bridge && composer install"
```

**–í—ã–≤–æ–¥:**
```
Installing dependencies from lock file
Installing firebase/php-jwt (v6.11.1)
Generating autoload files
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
docker compose exec wordpress ls /var/www/html/wp-content/plugins/supabase-bridge/vendor
# Output: autoload.php, composer, firebase
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã

**–í—Ä–µ–º—è:** ~5 –º–∏–Ω—É—Ç

---

### 00:42 - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ WordPress

**–û—Ç–∫—Ä—ã–ª –±—Ä–∞—É–∑–µ—Ä:** http://localhost:8000

**–®–∞–≥–∏ WordPress Setup Wizard:**

1. **–í—ã–±–æ—Ä —è–∑—ã–∫–∞:**
   - –í—ã–±—Ä–∞–ª: English
   - –ù–∞–∂–∞–ª: Continue

2. **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–∞–π—Ç–µ:**
   - Site Title: "My Supa WP"
   - Username: admin
   - Password: (—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π) - —Å–æ—Ö—Ä–∞–Ω–∏–ª –≤ LastPass
   - Email: koper@example.com
   - –ù–∞–∂–∞–ª: Install WordPress

3. **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
   ```
   Success!
   WordPress has been installed.
   ```

4. **–í—Ö–æ–¥ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å:**
   - URL: http://localhost:8000/wp-admin
   - Credentials: admin / (–ø–∞—Ä–æ–ª—å –∏–∑ LastPass)
   - ‚úÖ –£—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ WordPress –Ω–∞—Å—Ç—Ä–æ–µ–Ω

**–í—Ä–µ–º—è:** ~10 –º–∏–Ω—É—Ç

---

### 00:52 - –ê–∫—Ç–∏–≤–∞—Ü–∏—è –ø–ª–∞–≥–∏–Ω–∞ Supabase Bridge

**–í WordPress Admin:**

1. –ü–µ—Ä–µ—à–µ–ª: Plugins ‚Üí Installed Plugins

2. –ù–∞—à–µ–ª –ø–ª–∞–≥–∏–Ω:
   ```
   Name: Supabase Bridge
   Version: 0.8.1
   Author: Alex K
   Description: Supabase Authentication for WordPress
   Status: Inactive
   ```

3. –ù–∞–∂–∞–ª: **Activate**

4. **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
   ```
   Plugin activated.
   ```

5. **–ü—Ä–æ–≤–µ—Ä–∫–∞:**
   - –ü–æ—è–≤–∏–ª—Å—è –ø—É–Ω–∫—Ç –º–µ–Ω—é: Settings ‚Üí Supabase Bridge
   - –û—Ç–∫—Ä—ã–ª –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ - –≤–∏–¥–Ω–∞ —Ñ–æ—Ä–º–∞ —Å –ø–æ–ª—è–º–∏ –¥–ª—è Supabase URL, Anon Key, JWT Secret

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –ü–ª–∞–≥–∏–Ω –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω

**–í—Ä–µ–º—è:** ~3 –º–∏–Ω—É—Ç—ã

---

### 00:55 - –°–æ–∑–¥–∞–Ω–∏–µ Supabase –ø—Ä–æ–µ–∫—Ç–∞

**–û—Ç–∫—Ä—ã–ª:** https://supabase.com

**–î–µ–π—Å—Ç–≤–∏—è:**

1. **Sign In** (—É–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç)

2. **New Project:**
   - Organization: My Organization
   - Name: wordpress-auth
   - Database Password: (—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π) - —Å–æ—Ö—Ä–∞–Ω–∏–ª
   - Region: Europe West (Germany)
   - Pricing Plan: Free

3. **–î–æ–∂–¥–∞–ª—Å—è —Å–æ–∑–¥–∞–Ω–∏—è:** ~2 –º–∏–Ω—É—Ç—ã

4. **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
   ```
   Project created successfully
   Status: Active
   ```

**–ü–æ–ª—É—á–∏–ª credentials:**
- Project URL: `https://xxxxxxxxx.supabase.co`
- Anon public key: `eyJhbGci...` (—Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª)
- JWT Secret: (–ø–æ–∑–∂–µ –ø–æ–ª—É—á—É –∏–∑ Settings ‚Üí API)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ Supabase –ø—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω

**–í—Ä–µ–º—è:** ~5 –º–∏–Ω—É—Ç

---

### 01:00 - –ó–∞–ø—É—Å–∫ SQL —Å–∫—Ä–∏–ø—Ç–æ–≤ –≤ Supabase

**–û—Ç–∫—Ä—ã–ª:** Supabase Dashboard ‚Üí SQL Editor ‚Üí New Query

#### –°–∫—Ä–∏–ø—Ç 1: –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü

**–§–∞–π–ª:** supabase-tables.sql

**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:**
```sql
-- Enable UUID extension
CREATE EXTENSION IF NOT EXISTS "uuid-ossp";

-- wp_registration_pairs table
CREATE TABLE IF NOT EXISTS wp_registration_pairs (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  registration_url TEXT NOT NULL,
  thankyou_page_url TEXT NOT NULL,
  created_at TIMESTAMPTZ DEFAULT now()
);

-- wp_user_registrations table
CREATE TABLE IF NOT EXISTS wp_user_registrations (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  user_id UUID REFERENCES auth.users(id),
  pair_id UUID REFERENCES wp_registration_pairs(id),
  user_email TEXT NOT NULL,
  registration_url TEXT,
  registered_at TIMESTAMPTZ DEFAULT now()
);

-- Enable Row Level Security
ALTER TABLE wp_registration_pairs ENABLE ROW LEVEL SECURITY;
ALTER TABLE wp_user_registrations ENABLE ROW LEVEL SECURITY;
```

**–ó–∞–ø—É—Å—Ç–∏–ª:** Run

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
Success. 0 rows returned
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```sql
SELECT * FROM wp_registration_pairs;
-- Output: (0 rows) ‚Üê –¢–∞–±–ª–∏—Ü–∞ –ø—É—Å—Ç–∞—è, –Ω–æ —Å–æ–∑–¥–∞–Ω–∞
```

#### –°–∫—Ä–∏–ø—Ç 2: Security Policies

**–§–∞–π–ª:** SECURITY_RLS_POLICIES_FINAL.sql

**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:** (–ø–æ–ª–∏—Ç–∏–∫–∏ –¥–ª—è RLS - —Ä–∞–∑—Ä–µ—à–∏—Ç—å –∞–Ω–æ–Ω–∏–º–Ω—ã–º READ, authenticated INSERT)

**–ó–∞–ø—É—Å—Ç–∏–ª:** Run

**‚ö†Ô∏è –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ:**
```
Potential issue: Query has destructive operation
```

**–ü–æ–¥—Ç–≤–µ—Ä–¥–∏–ª:** Run anyway (—ç—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ - —Ç–æ–ª—å–∫–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç –ø–æ–ª–∏—Ç–∏–∫–∏)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
Success. 0 rows returned
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –¢–∞–±–ª–∏—Ü—ã –∏ –ø–æ–ª–∏—Ç–∏–∫–∏ —Å–æ–∑–¥–∞–Ω—ã

**–í—Ä–µ–º—è:** ~10 –º–∏–Ω—É—Ç

---

### 01:10 - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–ª–∞–≥–∏–Ω–∞ –≤ WordPress

**–í WordPress Admin ‚Üí Settings ‚Üí Supabase Bridge:**

**–ó–∞–ø–æ–ª–Ω–∏–ª —Ñ–æ—Ä–º—É:**

1. **Supabase URL:**
   ```
   https://xxxxxxxxx.supabase.co
   ```

2. **Supabase Anon Key:**
   ```
   eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJz...
   ```

3. **JWT Secret:**
   - –ü–æ–∫–∞ –æ—Å—Ç–∞–≤–∏–ª –ø—É—Å—Ç—ã–º (–µ—â–µ –Ω–µ –∑–Ω–∞–ª –≥–¥–µ –≤–∑—è—Ç—å)
   - ‚ö†Ô∏è **–û–®–ò–ë–ö–ê:** –ë–µ–∑ JWT Secret –ø–ª–∞–≥–∏–Ω –Ω–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å!

4. **Thank You Page URL:**
   ```
   /thank-you/
   ```

**–ù–∞–∂–∞–ª:** Save Changes

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
Settings saved successfully
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –±–∞–∑–µ:**
```sql
-- WordPress MySQL database
SELECT option_name, option_value FROM wp_options WHERE option_name LIKE 'sb_%';
```

**–í—ã–≤–æ–¥:**
```
sb_url: https://xxxxxxxxx.supabase.co
sb_anon_key: eyJhbGci...
sb_jwt_secret: (empty) ‚Üê –ü—Ä–æ–±–ª–µ–º–∞!
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ (–Ω–µ—Ç JWT Secret)

**–í—Ä–µ–º—è:** ~5 –º–∏–Ω—É—Ç

---

### 01:15 - –°–æ–∑–¥–∞–Ω–∏–µ Login —Å—Ç—Ä–∞–Ω–∏—Ü—ã

**–í WordPress Admin ‚Üí Pages ‚Üí Add New:**

1. **Title:** Login

2. **Content:** –î–æ–±–∞–≤–∏–ª Block ‚Üí Shortcode
   ```
   [supabase_auth_form]
   ```

3. **Publish:** –û–ø—É–±–ª–∏–∫–æ–≤–∞–ª

4. **–ü–æ–ª—É—á–∏–ª URL:**
   ```
   http://localhost:8000/login/
   ```

5. **–û—Ç–∫—Ä—ã–ª –≤ –±—Ä–∞—É–∑–µ—Ä–µ:**
   - –í–∏–¥–Ω–∞ —Ñ–æ—Ä–º–∞ —Å –ø–æ–ª—è–º–∏ –¥–ª—è email
   - –ö–Ω–æ–ø–∫–∞ "Continue with email"
   - –ö–Ω–æ–ø–∫–∏ –¥–ª—è Google –∏ Facebook OAuth

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ Login —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ–∑–¥–∞–Ω–∞

**–í—Ä–µ–º—è:** ~5 –º–∏–Ω—É—Ç

---

### 01:20 - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Permalinks

**–ü—Ä–æ–±–ª–µ–º–∞:** REST API endpoints –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç —Å "Plain" permalinks

**–í WordPress Admin ‚Üí Settings ‚Üí Permalinks:**

1. **–í—ã–±—Ä–∞–ª:** Post name
   ```
   https://example.com/sample-post/
   ```

2. **–ù–∞–∂–∞–ª:** Save Changes

3. **–ü—Ä–æ–≤–µ—Ä–∫–∞:**
   ```
   http://localhost:8000/wp-json/
   ```
   **–û–∂–∏–¥–∞–ª–æ—Å—å:** JSON response —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º API
   **–ü–æ–ª—É—á–∏–ª:** ‚úÖ JSON response

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ Permalinks –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã

**–í—Ä–µ–º—è:** ~2 –º–∏–Ω—É—Ç—ã

---

### 01:22 - –ü–µ—Ä–≤–∞—è –ø–æ–ø—ã—Ç–∫–∞ –ª–æ–≥–∏–Ω–∞ (FAILED)

**–î–µ–π—Å—Ç–≤–∏—è:**

1. –û—Ç–∫—Ä—ã–ª: http://localhost:8000/login/
2. –í–≤–µ–ª email: test@example.com
3. –ù–∞–∂–∞–ª: Continue with email

**–û–∂–∏–¥–∞–ª–æ—Å—å:**
- –°–æ–æ–±—â–µ–Ω–∏–µ "Check your email"
- Email –æ—Ç Supabase —Å Magic Link

**–ü–æ–ª—É—á–∏–ª:**
- ‚ùå –°–æ–æ–±—â–µ–Ω–∏–µ "Check your email" (–ø–æ—è–≤–∏–ª–æ—Å—å)
- ‚ùå –ù–æ email –ù–ï –ø—Ä–∏—à–µ–ª!

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ Supabase Dashboard:**
- Authentication ‚Üí Users ‚Üí (–ø—É—Å—Ç–æ)
- Logs ‚Üí API ‚Üí **Error 400:**
  ```
  {"error": "Invalid API key"}
  ```

**Root Cause:** JWT Secret –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ WordPress!

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚ùå –õ–æ–≥–∏–Ω –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–í—Ä–µ–º—è:** ~5 –º–∏–Ω—É—Ç

---

### 01:27 - –ü–æ–∏—Å–∫ JWT Secret

**–í Supabase Dashboard:**

1. Settings ‚Üí API
2. –°–∫—Ä–æ–ª–ª–∏–Ω–≥ –≤–Ω–∏–∑ ‚Üí "JWT Settings"
3. **–ù–∞—à–µ–ª:** "JWT Secret (Legacy)"
4. –ù–∞–∂–∞–ª: **Show**
5. –°–∫–æ–ø–∏—Ä–æ–≤–∞–ª —Å–µ–∫—Ä–µ—Ç (–¥–ª–∏–Ω–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ ~50 —Å–∏–º–≤–æ–ª–æ–≤)

**–í WordPress Admin ‚Üí Settings ‚Üí Supabase Bridge:**

1. –í—Å—Ç–∞–≤–∏–ª –≤ –ø–æ–ª–µ "JWT Secret"
2. –ù–∞–∂–∞–ª: Save Changes

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
docker compose logs wordpress | grep "JWT Secret"
# Output: (none - WordPress –Ω–µ –ª–æ–≥–∏—Ä—É–µ—Ç —Å–µ–∫—Ä–µ—Ç—ã, –ø—Ä–∞–≤–∏–ª—å–Ω–æ!)
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ JWT Secret –Ω–∞—Å—Ç—Ä–æ–µ–Ω

**–í—Ä–µ–º—è:** ~5 –º–∏–Ω—É—Ç

---

### 01:32 - –ò—Ç–æ–≥–∏ —Å–µ—Å—Å–∏–∏

**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:**

‚úÖ Docker Desktop —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
‚úÖ docker-compose.yml —Å–æ–∑–¥–∞–Ω
‚úÖ WordPress + MySQL –∑–∞–ø—É—â–µ–Ω—ã –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö
‚úÖ PHP –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (Composer) —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
‚úÖ WordPress –Ω–∞—Å—Ç—Ä–æ–µ–Ω (admin –∞–∫–∫–∞—É–Ω—Ç —Å–æ–∑–¥–∞–Ω)
‚úÖ Supabase Bridge –ø–ª–∞–≥–∏–Ω –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω
‚úÖ Supabase –ø—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω
‚úÖ SQL —Ç–∞–±–ª–∏—Ü—ã –∏ –ø–æ–ª–∏—Ç–∏–∫–∏ —Å–æ–∑–¥–∞–Ω—ã
‚úÖ –ü–ª–∞–≥–∏–Ω –Ω–∞—Å—Ç—Ä–æ–µ–Ω (URL, Anon Key, JWT Secret)
‚úÖ Login —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ–∑–¥–∞–Ω–∞
‚úÖ Permalinks –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã

**–ß—Ç–æ –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç:**

‚ö†Ô∏è Magic Link –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (–µ—â–µ –Ω–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞)
‚ö†Ô∏è Google OAuth (–Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω Google Cloud Console)
‚ö†Ô∏è JWT verification (–±—É–¥–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ Session 2)

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**

- –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å Magic Link (Session 2)
- –†–∞–∑–æ–±—Ä–∞—Ç—å—Å—è —Å JWT verification (Session 2)
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Google OAuth (Session 3)

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

**–í—Ä–µ–º—è:** ~1.5 —á–∞—Å–∞
**–ö–æ–º–∞–Ω–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ:** ~20
**–§–∞–π–ª–æ–≤ —Å–æ–∑–¥–∞–Ω–æ:** 1 (docker-compose.yml)
**Docker –æ–±—Ä–∞–∑–æ–≤ —Å–∫–∞—á–∞–Ω–æ:** 2 (mysql:8.0, wordpress:latest)
**SQL —Å–∫—Ä–∏–ø—Ç–æ–≤ –∑–∞–ø—É—â–µ–Ω–æ:** 2
**WordPress —Å—Ç—Ä–∞–Ω–∏—Ü —Å–æ–∑–¥–∞–Ω–æ:** 1 (Login)

**–¢–æ–∫–µ–Ω–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ:** ~15k (–æ—Ü–µ–Ω–∫–∞)

---

## üí° –£—Ä–æ–∫–∏

1. **Docker Volumes:** –í–∞–∂–Ω–æ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–ª–∞–≥–∏–Ω –∫–∞–∫ volume –¥–ª—è live reload –ø—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
2. **Composer –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ:** Composer install –Ω—É–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –í–ù–£–¢–†–ò –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –Ω–µ –Ω–∞ —Ö–æ—Å—Ç–µ
3. **JWT Secret:** –ö—Ä–∏—Ç–∏—á–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –î–û –ø–µ—Ä–≤–æ–≥–æ –ª–æ–≥–∏–Ω–∞, –∏–Ω–∞—á–µ –±—É–¥–µ—Ç 400 error
4. **Permalinks:** REST API —Ç—Ä–µ–±—É–µ—Ç "Post name" permalinks, –Ω–µ "Plain"
5. **WordPress Setup:** –ü–µ—Ä–≤–∏—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ WordPress —Ç—Ä–µ–±—É–µ—Ç ~10 –º–∏–Ω—É—Ç (–±—ã—Å—Ç—Ä–µ–µ —á–µ–º –æ–∂–∏–¥–∞–ª–æ—Å—å!)

---

**–°–ª–µ–¥—É—é—â–∞—è —Å–µ—Å—Å–∏—è:** [2025-11-01-session2.md](2025-11-01-session2.md) - JWT Verification Fix
